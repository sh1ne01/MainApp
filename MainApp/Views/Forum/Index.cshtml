@model List<MainApp.Models.ForumPost>

<div class="d-flex justify-content-between align-items-center mb-4">

    <h2 style="color:#00ff88;">Forum</h2>

    @if (User.Identity.IsAuthenticated )
    {
        <a asp-controller="Forum"
           asp-action="Create"
           class="btn btn-success">
            + Create Post
        </a>
    }

</div>


@foreach (var post in Model)
{
    <div class="card bg-dark text-light mb-3 p-3 shadow">

        <div class="d-flex align-items-center mb-3">

            <img src="@(post.AvatarPath ?? "/Avatars/default-avatar.png")"
                 style="
                    width:50px;
                    height:50px;
                    border-radius:50%;
                    object-fit:cover;
                    margin-right:15px;
                    border:2px solid #00ff88;" />

            <div>
                <div style="color:#00ff88;font-weight:bold;">
                    @post.UserLogin
                </div>

                <span class="badge bg-success">
                    @post.Role
                </span>
            </div>

        </div>

        <h4>@post.Title</h4>
        <p>@post.Content</p>

        <small style="color:gray;">
            @post.CreatedAt.ToString("g")
        </small>

    </div>
}
